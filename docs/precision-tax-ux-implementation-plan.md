# 정밀 세금 계산/UX 구현계획서 (사업소득 중심 + N잡 포함)

> 목적: **종합소득세(종소세)를 “최대한 정확하게”** 계산하고, 복잡성은 **극도로 편리한 UX**와 **쉬운 용어 설명**으로 숨긴다.  
> 출력은 **총세금(결정세액)**과 **추가 납부/환급(기납부 반영)**을 함께 제공한다.

> 계산식/세율/한도/끝수처리(라운딩) 등 “세법 스펙”은 `docs/tax-law-spec-appendix.md`를 단일 기준으로 삼는다.

---

## 0. 핵심 원칙 (이 문서의 1줄 요약)

1) **정확도 우선**: “대충 예측”이 아니라 “신고서에 가까운 결과”를 목표로 한다.  
2) **복잡성 희소화**: 입력은 적게 느껴지게(선택 분기/자동합산/기본값/가이드).  
3) **설명은 즉시**: 모든 용어는 `?` 한 번으로 10초 안에 이해 가능해야 한다.  
4) **프라이버시 기본값**: 사용자의 민감 정보는 기기 밖으로 나가지 않는 것을 기본으로 한다(서버/회원가입 없는 방향 유지).

---

## 1. 목표/비목표

### 목표(Goal)
- 종소세를 **소득 합산 + 공제/세액공제 + 기납부**까지 반영해 “결정세액/추가납부”를 산출
- 사업소득이 주력인 사용자(음식점/카페 등)에게 **입력 스트레스가 낮은 정밀 계산 UX** 제공
- N잡(근로/연금/금융/기타소득)은 “있으면 추가 입력”으로 **정밀 합산** 지원
- 모든 입력 항목에 **용어 설명 + 어디서 찾기**(문서/화면 기준) 제공

### 비목표(Non-goal, 1차 범위 제외 권장)
- 세무대리/신고 대행 기능(전자신고 제출)
- 자동 수집(은행/카드/홈택스 계정 연동) 같은 외부 계정 연동
- 법적 책임을 지는 “세무 자문” 표현(앱 내 문구는 안내/계산 도구로 제한)

---

## 2. “정밀 종소세” 출력 정의

### 2.1 메인 결과(상단 3요소)
1) **총세금(결정세액)**  
   - = 종합소득세 + 지방소득세(종합소득세의 10%)
2) **기납부세액(이미 낸 세금)**  
   - = 원천징수(근로/연금/금융/기타) + 중간예납 + 기타 기납부(있으면)
3) **추가 납부/환급**  
   - = 총세금 − 기납부세액  
   - +면 “추가 납부”, −면 “환급”

### 2.2 보조 결과(신뢰/설명)
- **정밀도(완성도) 점수 0~100**: 입력 누락이 있을수록 낮아짐
- **추정 사용 배지**: `모르겠어요`로 추정치를 사용한 항목 표시
- **계산 근거 보기**: 총소득 → 공제 → 과세표준 → 산출세액 → 세액공제 → 결정세액 → 기납부 → 추가/환급

### 2.3 정밀도(완성도) 점수 — 가중치(권장안)

> 목표: “실제 정확도”를 직접 추정하기 어렵기 때문에, 사용자가 체감하기 쉬운 **입력 완성도/신뢰도**를 점수화한다.  
> 점수는 **총세금(결정세액) 정밀도**와 **추가 납부/환급 정밀도**를 분리해 보여주는 것을 권장한다.

#### 2.3.1 점수 구조(2개 권장)
- **총세금(결정세액) 정밀도**: 과세표준/산출세액/공제·세액공제 입력의 완성도(= “세금이 얼마나 맞을지”)
- **추가 납부/환급 정밀도**: 위 “총세금” + “기납부” 입력의 완성도(= “추가로 낼지/돌려받을지”)

> 근거(산식 흐름): 결정세액은 과세표준·세율·공제/세액공제에서 만들어지고, 납부할 세액은 **결정세액에서 기납부세액을 차감**해 나온다.

#### 2.3.2 “모르겠어요(추정)” 처리 원칙(점수/표시)
- 사용자가 `모르겠어요`를 누르면 **평균/추정치로 계속 진행**한다(흐름이 막히지 않게).
- 단, 아래 3가지는 **반드시 사용자에게 명시**한다.
  1) 해당 항목에 `추정` 배지 표시  
  2) 결과 화면에 `추정 포함` 배지 + “추정으로 계산 중” 1줄 고지  
  3) “어떤 값이 추정인지” 리스트로 노출 + 바로 입력 CTA 제공

**추정치 출처(우선순위)**
1) 같은 귀속연도의 “이미 입력된 월 평균” (가능할 때 최우선)  
2) 직전 귀속연도의 “사용자 데이터” (있을 때)  
3) 업종 평균/안전한 보수치(마지막 수단)  

**점수 반영(권장 계수)**
- `실측/증빙 기반`: 1.00  
- `사용자 데이터 기반 추정(1~2번)`: 0.70  
- `업종 평균/보수치 기반 추정(3번)`: 0.50  
- `미입력`: 0.00  

#### 2.3.3 종소세 정밀도 가중치(사업소득 중심 권장)

**A) 총세금(결정세액) 정밀도(100점)**
- 소득(합산): **75점**
  - 사업소득(매출/경비): 60점
    - 매출: 30점
    - 경비(필요경비): 30점
  - 기타 종합소득(근로/연금/금융/기타): 15점  
    - Step 0에서 “있음”으로 체크한 소득만 대상  
    - 해당 소득이 “없음”이면 이 15점은 사업소득으로 자동 합산(= 사업소득 최대 75점)
- 공제/세액공제: **25점**
  - 인적공제(가족): 10점
  - 노란우산/연금계좌/기타 세액공제: 15점

**B) 추가 납부/환급 정밀도(100점)**
- 총세금(결정세액) 정밀도: **70점**
- 기납부세액(원천징수/중간예납/기타): **30점**

**가중치가 이렇게 큰 이유(요약)**
- 총세금(결정세액)은 **과세표준(= 소득에서 공제를 뺀 금액)**과 세율/공제로 결정되기 때문에, 사업소득(매출·경비)과 공제 입력이 가장 큰 영향을 준다.  
- 추가 납부/환급은 “결정세액 − 기납부세액” 구조라서, 기납부가 비면 결과의 의미가 크게 떨어진다.

#### 2.3.4 부가세 정밀도 가중치(반기 기준 권장)

**부가세 정밀도(100점)**
- 매출(매출세액): **35점**
- 지출(매입세액): **35점**
- 의제매입(공제): **15점**
- 발행세액공제(카드/현금영수증 등): **5점**
- 기간 충족(월 입력률/최신성): **10점**

> 근거(산식 흐름): 부가세는 “매출세액”과 “매입세액”의 차이에서 시작하고, 의제매입/카드발행공제 등은 공제 항목으로 추가 반영된다.

#### 2.3.5 표시 방식(UX 권장)
- 레이더(대시보드): `부가세 정밀도`, `종소세 정밀도`를 **각 카드에 별도로** 표시(한 점수로 섞지 않기)
- 상세 결과: 상단에 `총세금 정밀도` / `추가·환급 정밀도`를 **칩(Chip)** 으로 같이 노출
- 정밀도 카드의 “다음 액션”은 **가중치 큰 항목 우선**으로 제안(예: 경비/기납부 입력)

**참고(공식 산식/흐름)**
- 국세청: 부가가치세 “세액계산 흐름도” (매출세액·매입세액·납부(환급)세액 구조)  
  - https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?cntntsId=238928&mi=2403
- 국세청: “연금소득금액 계산방법” (종합소득 과세표준→산출세액→결정세액 흐름 예시)  
  - https://www.nts.go.kr/nts/cm/cntnts/cntntsView.do?cntntsId=7889
- 국세청: “주택임대 소득세 계산” (결정세액·기납부세액·납부할 세액 구조 사례)  
  - https://nts.go.kr/nts/cm/cntnts/cntntsView.do?cntntsId=7684&mi=2253

---

## 3. 정보 구조(IA) & 진입점

### 3.1 메인 탭 유지
- 레이더(대시보드)
- 자료함(입력/관리)
- 설정

### 3.2 정밀 종소세 진입점(2개)
- 레이더의 “종소세 카드” → `정밀 계산` CTA
- 자료함에 “정밀 종소세(신고급)” 섹션 추가 → `시작/이어하기`

---

## 4. UX 흐름(정밀 종소세) — Stepper 기반 “마법사”

### 공통 UX 규칙
- 상단에 **Stepper(단계 표시)**: `소득` → `공제` → `기납부` → `결과`
- 각 단계는 “필수 입력만으로도 다음으로” 진행 가능하되:
  - 누락 시 **정밀도 점수 하락** + 결과 화면에서 “정확히 하려면 더 입력” 안내
- 모든 입력은 **자동 저장**(뒤로 가도 유지)
- 각 입력칸에:
  - `?` (용어 설명: 2줄 + 더보기)
  - `어디서 찾기` (문서/화면 기준 안내)
  - `모르겠어요` (대체 입력/추정 사용)

---

### 4.1 Step 0 (시작) — “귀속연도 선택 + 소득 구성”
**목적**: 어떤 해의 세금을 계산하는지, 어떤 소득이 있는지 결정.

**UI 구성**
- 카드: `귀속연도 선택(소득이 생긴 해)`
  - 기본값(기본 선택): **작년(신고용)**  
  - 보조 선택: “올해(예상)”(상수표 미업데이트 시 ‘작년 기준’으로 추정 계산 + 고지)
  - 보조 텍스트: “종소세는 보통 다음 해 5월에 신고/납부해요”
  - 예시(작게): “예: 오늘이 2026년이면, ‘작년 귀속’은 2025년이에요”
  - (선택) 직접 선택: 상수표가 준비된 연도만 선택 가능(미지원 연도는 비활성/고지)
- 카드: `소득이 있나요? (해당되는 것만 체크)`
  - 사업소득(기본 ON, 필수)
  - 근로소득(선택)
  - 연금소득(선택)
  - 금융소득(이자/배당)(선택)
  - 기타소득(선택)
- CTA: `다음`

**입력 최소화(중요)**
- 체크를 켠 소득만 이후 단계에서 나타남(복잡성 희소화의 핵심)

---

### 4.2 Step 1 (소득) — “사업소득은 정밀, 나머지는 2칸”

#### 4.2.1 사업소득(필수)
**목표**: 사업소득의 정확도가 전체 종소세 정확도의 대부분을 결정.

**UI 구성(권장: 탭 또는 세그먼트)**
- `빠른 입력(연간)` / `상세 입력(월별)` 두 가지 중 선택

**A) 빠른 입력(연간)**
- 입력칸 1: `연간 매출`
  - 보조 선택: `부가세 포함/미포함/모르겠음`
  - UX: 포함/미포함에 따라 “자동으로 VAT 제외 매출(공급가액)” 표시(읽기 전용)
- 입력칸 2: `연간 필요경비(전체)`
  - 보조: “부가세 여부 상관없이 ‘전체 경비’”
- 토글: `장부(기장) 신고인가요?`
  - ON: 위 2칸(매출/경비)로 정밀 계산(권장)
  - OFF: 단순경비율 적용(간편), 단 **“정밀 모드에서는 권장하지 않음”** 안내

**B) 상세 입력(월별)**
- 월 선택 + 월 매출 + 월 경비(전체) 입력
- 자동 합산으로 연간 값 표시
- “누락 월”이 있으면:
  - (선택) `연간 추정으로 채우기` 토글(예상 계산)
  - 누락 표시(점/배지) + 정밀도 하락 안내

**추가 편의(추천)**
- `전월 복사` / `지난해 값 가져오기` / `비슷한 가게 평균 참고`(참고값은 “추정” 표시)

#### 4.2.2 근로/연금/금융/기타소득(선택, 동일 패턴)
**목표**: “정밀 합산”을 하되 입력 부담은 일정하게 유지.

**공통 UI 카드 템플릿(소득 1개당)**
- 입력칸 1: `소득금액(추천)`
- 입력칸 2: `원천징수세액(이미 낸 세금)`
- 보조 버튼: `소득금액이 뭔지 모르겠어요`
  - 대체 입력: `지급액(총액)` + `원천징수세액`
  - 안내: “지급액 기반은 정확도가 떨어질 수 있어요” + 추정 배지 부여

**금융소득(이자/배당) 특이점(UX만 정의)**
- 질문 1개만 추가: `올해 이자+배당이 2,000만원 넘나요?`
  - 모르면 `모르겠어요` → “일단 합산 입력(추정)” + 경고 배지

---

### 4.3 Step 2 (공제) — “기본은 자동, 추가는 접기/펼치기”

#### 4.3.1 기본 공제(항상 노출, 입력 부담 낮게)
- `인적공제(가족)`:
  - 체크리스트: 본인(고정), 배우자, 자녀(명수), 부모(명수)
  - 안내: “가족 수가 늘면 공제가 늘 수 있어요”
- `노란우산`:
  - 미가입/가입 토글
  - 가입 시: 월 납입액 또는 연 납입액 중 택1(둘 다 제공)

#### 4.3.2 추가 공제/세액공제(선택, 기본 접힘)
- “더 정확하게(선택)” 버튼을 누르면 섹션 확장
- 항목은 `있나요?` 방식으로만 시작 → “예”인 항목만 숫자 입력 노출
- 권장 후보(우선순위 순):
  1) 연금계좌(연금저축/IRP) 납입액(세액공제 영향 큼)
  2) 의료비/교육비/기부금(조건 복잡 → ‘있는 사람만’)
  3) 자녀 관련 세액공제(가족 입력과 연동)

**UX 원칙**
- 모든 항목에 `대상/조건`을 긴 글로 쓰지 말고:
  - “대부분 해당/해당 없음/모름” 3칩
  - 모름이면 “보수적으로 0 처리 + 정밀도 하락” 안내

---

### 4.4 Step 3 (기납부) — “추가 납부/환급의 핵심”

**목적**: 기납부를 넣어야 “추가 납부/환급”이 정확해짐.

**UI 구성**
- 상단 안내 카드: “추가/환급은 ‘이미 낸 세금’을 알아야 정확해요”
- 리스트(카드)로 항목 분리:
  - 근로 원천징수
  - 연금 원천징수
  - 금융 원천징수
  - 기타 원천징수
  - 종소세 중간예납
  - 기타 기납부(직접 입력)
- 각 카드에는:
  - 금액 입력칸(원)
  - `어디서 찾기` 버튼
  - `0원` 빠른 선택
- 하단에 자동 합계: `기납부세액 합계`
- CTA: `결과 보기`

---

### 4.5 Step 4 (결과) — “한 화면에서 끝, 상세는 접어서”

**UI 구성(상단부터)**
1) **결과 요약 카드(가장 큼)**
   - 총세금(결정세액)
   - 기납부세액(합계)
   - 추가 납부/환급(컬러 강조: 납부=경고/환급=성공)
2) **정밀도 카드**
   - 0~100 점수 + “정확히 하려면” 1~3개의 액션 제안(바로가기)
3) **구성요소(접힘 기본)**
   - 종합소득(합계)
   - 공제(합계)
   - 과세표준
   - 산출세액
   - 세액공제
   - 결정세액(종소세)
   - 지방소득세
4) **설명/가이드**
   - “이 결과가 나온 이유 3줄 요약”
   - `용어 사전 열기` / `계산 근거 더 보기`

---

## 5. UI 컴포넌트 명세(구현 가이드)

### 5.1 입력 카드(표준)
- 제목(용어) + `?` + `어디서 찾기`
- 숫자 입력(원 단위): 천 단위 콤마 자동
- 보조 액션:
  - `모르겠어요` → 대체 입력/추정 사용 안내
  - `0원` → 빠른 입력
- 상태 배지:
  - `완료` / `미입력` / `추정`

### 5.2 “어디서 찾기” 바텀시트(표준)
- 상단: 용어 제목 + 2줄 초간단 설명(= 용어 사전 데이터 재사용)
- 본문: 3~5줄 “찾는 순서”
- 하단: `알겠어요` + (선택) `예시 보기`

### 5.3 용어 사전(독립 화면)
- 검색창 + 카테고리(소득/공제/세액/납부)
- 즐겨찾기(별) + 최근 본 용어
- 각 항목: 제목(≤12자) + 2줄 설명 + `어디서 찾기`
- 데이터 원본: `docs/glossary-ui-copy.md`를 기준으로 운영(카피 변경이 쉬워야 함)

---

## 6. “복잡성 희소화” UX 장치(필수)

1) **조건부 노출**: “있나요?”에 Yes인 항목만 입력칸을 보여주기  
2) **추천 경로**: “정밀(추천)”을 기본으로 두고, 간편은 보조로 숨기기  
3) **대체 입력**: 모르면 “지급액/합계” 같은 대체 입력 제공(단, 추정 배지)  
4) **자동합산**: 월별/카테고리별 입력이 있으면 연간 합계 자동 채움  
5) **정밀도 피드백**: 입력 누락이 결과에 미치는 영향을 “다음 액션”으로 제시  

---

## 7. 품질/검증(UX 관점) — 사용자가 스스로 실수 줄이게

### 7.1 입력 검증(즉시 피드백)
- 매출/경비가 비정상적으로 큰 경우 경고(“오타일 수 있어요”)
- 기납부가 총세금보다 큰 경우 안내(“환급일 수 있어요”)
- VAT 포함/미포함이 결과에 큰 영향을 주는 입력은 “확인” 팝업 제공

### 7.2 “추정” 사용 시 안전장치
- 추정치 사용 시 결과 화면에 `추정 포함` 배지 표시
- 추정 항목이 많을수록 정밀도 점수 하락 + “정확히 하려면” 바로가기 제공

---

## 8. 릴리즈 플랜(권장 단계)

### R1 (정밀 계산 MVP)
- Stepper 기반 정밀 종소세 플로우
- 사업소득(연간 2칸) + 인적공제 + 노란우산
- N잡 소득(각 2칸: 소득금액/원천징수)
- 기납부 합산 + 추가/환급
- 결과 화면 + 상세 내역(접힘)
- 용어 설명(2줄) + 어디서 찾기(요약)

### R2 (정확도 강화 + UX 고도화)
- 월별 상세 입력/자동합산/누락 월 추정 토글
- 추가 공제/세액공제(연금계좌/의료비/교육비/기부금 등) “있나요?” 방식 확장
- 정밀도 점수 체계 고도화(누락 항목별 영향 안내)

### R3 (입력 편의 최종)
- 문서 기반 입력 가이드(예시/하이라이트)
- 온디바이스 OCR(선택): 원천징수영수증/고지서 사진에서 숫자 추출(프라이버시 유지)

---

## 9. 완료 기준(수용 기준: QA 체크리스트)

- 총세금/기납부/추가·환급이 한 화면에서 명확히 구분돼 표시된다
- 소득 구성 체크에 따라 입력 화면이 자동으로 단순해진다(없는 소득은 노출 X)
- 모든 입력칸에 `?` 설명과 `어디서 찾기`가 제공된다
- `모르겠어요`를 눌러도 흐름이 막히지 않고, 결과에 “추정”이 표시된다
- 기납부 입력이 0이면 “추가/환급은 참고용” 안내가 뜬다
- 오타/이상치에 대한 경고가 사용자에게 이해 가능한 문장으로 제공된다

---

## 10. (추가) 정밀 부가세 UX/정확도 고도화 — 종소세와 동일 원칙 적용

> 본 문서의 핵심은 “정밀 종소세”지만, 앱의 신뢰를 위해 부가세도 같은 철학(정확도 우선 + 복잡성 희소화 + 즉시 설명)을 적용한다.

### 10.1 부가세 결과 정의(반기)
- **납부세액(또는 환급 가능)**을 명확히 구분 표기
- 구성요소를 항상 함께 표기:
  - 매출세액(판매에서 생긴 세금)
  - 매입세액(지출 중 부가세 붙는 매입에서 돌려받는 세금)
  - 의제매입세액공제(면세 식재료 등)
  - 신용카드 등 발행세액공제

### 10.2 부가세 입력 UX(필수 최소)
- 매출: 반기 기준(월별 또는 합계)
  - 카드/현금영수증/기타현금은 “자동 분해 + 수정 가능” 패턴 유지
- 지출: “부가세 붙는 지출 비율”을 질문형으로 받기(대부분/반반/거의없음)
- 의제매입: 면세 식재료 매입(월별 프리셋 + 직접 입력)

### 10.3 부분 입력(월 누락) 처리
- “지금까지 입력만 보여주기” vs “반기 전체 추정” 토글 제공
- 추정 사용 시 `추정 포함` 배지 + 정확도/완성도 하락

### 10.4 과세유형(일반/간이/모름) UX
- 온보딩/설정에서 과세유형을 받고, 모르면:
  - “사업자등록증에서 찾기” 가이드 제공
  - 결과 화면에 “과세유형에 따라 결과가 달라질 수 있어요” 고지

### 10.5 “부가세 vs 종소세” 쉬운 설명(레이더/상세 공통)
- 한 문장 요약:
  - 부가세: **판매에서 받은 세금 − 지출에서 낸 세금(공제 포함)** → 반기/분기 단위
  - 종소세: **1년 동안 남긴 이익(여러 소득 합산) 기준** → 연 1회
- 사용자가 헷갈리는 포인트를 즉시 설명:
  - “부가세가 크다고 종소세도 큰 건 아님”(마진/경비/공제에 따라 크게 달라짐)

---

## 11. 입력 항목 사전(맥락 0 구현/QA용)

> 목적: 맥락을 모르는 구현자/QA가 “무엇을 입력받고, 어떤 규칙으로 처리하며, 어떤 UX를 보여줘야 하는지”를 **표만 보고 확정**할 수 있게 한다.  
> 용어 설명/어디서 찾기는 `docs/glossary-ui-copy.md`의 용어 ID와 매핑한다.

### 11.1 공통 UI/데이터 규칙(전 화면 공통)

**입력 타입 표준**
- 금액: 기본 `원(₩)` / 천단위 콤마 / 음수 불가 / 0원 허용(단 “없음” 의미로 명시)
- 개수: 정수(0 이상)
- 선택: 칩(Chip) 2~3개로 끝(예: `있음/없음/모르겠어요`)

**“0원/없음” vs “모르겠어요(추정)”**
- `0원/없음`: 사용자가 확정한 값 → 점수상 **완료(1.0)** 로 처리
- `모르겠어요`: 앱이 추정값을 사용 → 점수상 **추정(0.7~0.5)**, 결과 화면에 **추정 고지 필수**

**중요: “미입력”과 “0원 확정”은 반드시 구분**
- 예: 기납부(원천징수)나 공제 금액은 `빈칸(미입력)` 상태가 존재해야 한다.
- 사용자가 `0원` 버튼/`없음` 선택 등 **명시 액션**을 했을 때만 `0원 확정(완료)`로 취급한다.

**필수의 의미(CTA 활성화 기준)**
- R1 기준 `결과 보기`는 아래가 충족되면 활성화:
  - 사업소득: `연간 매출`은 반드시 입력(또는 월별 매출 합산이 존재)
  - 사업소득: `경비`는 아래 둘 중 하나면 OK
    - (정밀) 필요경비 입력(연간 또는 월별 합산)
    - (대체) 단순경비율로 추정(“정밀도 낮음” 고지)
- 그 외(공제/기납부/기타소득)는 미입력이어도 진행 가능하되 **정밀도 하락 + 다음 액션**으로 유도

**정밀도 점수에 연결되는 방식(요약)**
- 각 항목은 `완료/추정/미입력` 상태가 있고, 항목별 가중치로 점수에 반영된다(2.3절).
- “있나요?”로 `없음`을 선택한 항목은 점수에서 **불이익이 없어야 한다**(선택형 공제의 핵심 원칙).

---

### 11.2 Step 0 (시작) 입력 사전

| 항목 | 노출 조건 | 입력 UI | 단위/형식 | 기본값 | 검증/경고 | `모르겠어요` 처리 | 용어/가이드 |
|---|---|---|---|---|---|---|---|
| 귀속연도(소득이 생긴 해) | 항상 | 라디오(작년/올해/직접선택) | 연도 | **작년(신고용)** | 미래 연도 선택 시 경고 / 상수표 미지원 연도는 선택 불가(또는 `예상(추정)`으로 고지) | 없음(필수 선택) | T21 |
| 업종(가게 유형) | 최초 1회(또는 미설정 시) | 라디오(음식점/카페/기타(잘 모르겠어요)) | 선택 | 음식점(권장) | 없음 | 사용자가 `기타(잘 모르겠어요)`를 선택하면 “업종 평균(12.3)” 기반 추정을 더 자주 사용 + `추정` 고지 | (용어는 선택) |
| 소득 구성 체크 | 항상 | 체크리스트 | 선택 | 사업소득 ON | “사업소득 OFF”는 불가(비활성) | 각 소득을 ON 했는데 Step 1에서 금액 미입력 시 점수 하락 | T06 |

---

### 11.3 Step 1 (소득) 입력 사전 — 사업소득(필수)

| 항목 | 노출 조건 | 입력 UI | 단위/형식 | 기본값 | 검증/경고 | `모르겠어요` 처리 | 용어/가이드 |
|---|---|---|---|---|---|---|---|
| 입력 모드 | 사업소득 | 세그먼트(연간/월별) | 선택 | 연간(권장) | 없음 | 없음 | (UX) |
| 장부(기장) 신고인가요? | 사업소득 | 토글 | ON/OFF | ON(권장) | OFF 선택 시 “정밀 모드에선 권장X” 안내 | OFF면 단순경비율 경로로 이동 | T24/T25 |
| 연간 매출 | 연간 모드 | 금액 입력 | 원 | 없음 | 너무 큰 값(전년 대비 급변) 경고 | (대체) 월별로 입력 유도(가능하면) | T07 |
| 부가세 포함 여부 | 연간 모드(매출) | 칩(포함/미포함/모름) | 선택 | 포함(일반적) | 모름이면 결과에 `추정` 배지 | 모름이면 “포함으로 가정” + 추정 표시(정밀도 하락) | V08 |
| 연간 필요경비(전체) | 연간 모드 + 기장 ON | 금액 입력 | 원 | 없음 | 매출보다 경비가 지나치게 큰 경우 확인 팝업 | 모름 → “경비 추정(월 평균/업종 평균)” 선택 제공(12절) | T08 |
| 단순경비율 적용 | 기장 OFF | 선택 안내 + 확인 | 선택 | 업종 기본 | 결과에 “간편 추정” 배지 | 공식 비율로 자동 추정(정밀도 하락) | T25 |
| 월 매출(1~12월) | 월별 모드 | 월 리스트 + 금액 | 원 | 없음 | 누락 월 표시(배지) | 누락 월 → “추정으로 채우기” 제공(12절) | T07 |
| 월 경비(1~12월) | 월별 모드 + 기장 ON | 월 리스트 + 금액 | 원 | 없음 | 누락 월 표시(배지) | 누락 월 → “추정으로 채우기” 제공(12절) | T08 |
| 누락 월 추정 채우기 | 월별 모드 | 토글 + 설명 | ON/OFF | OFF | ON 시 `추정 포함` 배지 | ON이면 누락 월을 자동 보정(출처 공개) | T23/T22 |

---

### 11.4 Step 1 (소득) 입력 사전 — N잡 소득(선택)

> 원칙: N잡 소득은 **“소득금액 + 원천징수세액(기납부)” 2칸**을 기본으로 한다.  
> 사용자가 “소득금액”을 모를 때만 대체 입력을 열어준다(복잡성 희소화).

| 소득 종류 | 항목 | 노출 조건 | 입력 UI | 단위/형식 | `모르겠어요` 처리(권장) | 용어/가이드 |
|---|---|---|---|---|---|---|
| 근로 | 소득금액(권장) | 근로 ON | 금액 입력 | 원 | 모름 → “대략 범위 선택(단위: 만원)” (예: 0~500만원/500~1,000만원/1,000~3,000만원/3,000~5,000만원/5,000만원+) 후 **중간값** 사용 + 추정 고지 | T09/T17 |
| 근로 | 원천징수세액 | 근로 ON | 금액 입력 | 원 | 모름 → 0원 처리 + `추정 0` 고지(추가/환급 정밀도 크게 하락) | T18/T04 |
| 연금 | 소득금액(권장) | 연금 ON | 금액 입력 | 원 | 모름 → 범위 선택 후 추정 + 고지 | T09 |
| 연금 | 원천징수세액 | 연금 ON | 금액 입력 | 원 | 모름 → 0원 + `추정 0` 고지 | T18 |
| 금융 | 이자+배당 합계 | 금융 ON | 금액 입력 | 원 | 모름 → “2,000만원 초과 가능성” 질문(예/아니오/모름) + 모름이면 결과에 **범위 표시**(분리과세/종합과세) + 큰 경고 배지 | T20/T26/T27 |
| 금융 | 원천징수세액 | 금융 ON | 금액 입력 | 원 | 모름 → 0원 + `추정 0` 고지 | T18 |
| 기타 | 소득금액(권장) | 기타 ON | 금액 입력 | 원 | 모름 → 범위 선택 후 추정 + 고지 | T09 |
| 기타 | 원천징수세액 | 기타 ON | 금액 입력 | 원 | 모름 → 0원 + `추정 0` 고지 | T18 |

---

### 11.5 Step 2 (공제) 입력 사전

| 항목 | 노출 조건 | 입력 UI | 단위/형식 | 기본값 | 검증/경고 | `모르겠어요` 처리 | 용어/가이드 |
|---|---|---|---|---|---|---|---|
| 인적공제(가족) | 항상 | “있나요?” + 개수 입력 | 개수 | 본인 고정 | 개수 과다 입력 시 확인 | 모름 → 보수적으로 0명(본인만) + “추가 입력 시 세금↓” 안내 + 추정 표시 | T15 |
| 배우자 | 선택 | 칩(있음/없음/모름) | 선택 | 없음 | 없음 | 모름 → 없음 처리 + 추정 표시 | T15 |
| 자녀 수 | 선택 | 숫자 | 명 | 0 | 없음 | 모름 → 0명 + 추정 표시 | T15 |
| 부모(부양) 수 | 선택 | 숫자 | 명 | 0 | 없음 | 모름 → 0명 + 추정 표시 | T15 |
| 노란우산 가입 | 항상 | 토글 | ON/OFF | OFF | ON인데 금액 0이면 경고 | 모름 → OFF + 추정 표시 | T16 |
| 노란우산 납입액 | 가입 ON | 금액 입력 | 원 | 없음 | 연간 한도 안내(자동 적용) | 모름 → 0원 + 추정 표시 | T16 |
| (R2) 연금계좌 납입액 | “더 정확하게” 확장 | 금액 입력 | 원 | 0 | 한도 안내(자동 적용) | 모름 → 0원 + 추정 표시 | T14 |
| (R2) 의료/교육/기부 등 | “더 정확하게” 확장 | “있나요?”→금액 | 원 | 0 | 과다 입력 시 확인 | 모름 → 0원 + 추정 표시 | T14 |

---

### 11.6 Step 3 (기납부) 입력 사전

| 항목 | 노출 조건 | 입력 UI | 단위/형식 | 기본값 | 검증/경고 | `모르겠어요` 처리 | 용어/가이드 |
|---|---|---|---|---|---|---|---|
| 근로 원천징수 | 근로 ON | 금액 입력 + 0원 버튼 | 원 | 0 | 소득은 있는데 원천징수=0이면 확인 | 모름 → 0원 + `추정 0` 배지 | T18/T04 |
| 연금 원천징수 | 연금 ON | 금액 입력 + 0원 버튼 | 원 | 0 | 동일 | 모름 → 0원 + `추정 0` | T18 |
| 금융 원천징수 | 금융 ON | 금액 입력 + 0원 버튼 | 원 | 0 | 동일 | 모름 → 0원 + `추정 0` | T18 |
| 기타 원천징수 | 기타 ON | 금액 입력 + 0원 버튼 | 원 | 0 | 동일 | 모름 → 0원 + `추정 0` | T18 |
| 종소세 중간예납 | 항상(선택) | 칩(있음/없음/모름) + 금액 | 원 | 없음 | 있음인데 금액 0이면 확인 | 모름 → 없음 + 추정 표시 | T19 |
| 기타 기납부 | 선택 | 금액 입력 | 원 | 0 | 없음 | 모름 → 0원 + 추정 표시 | T04 |

---

### 11.7 부가세 입력 사전(레이더/부가세 상세 공통)

| 항목 | 노출 조건 | 입력 UI | 단위/형식 | 기본값 | `모르겠어요` 처리 | 용어/가이드 |
|---|---|---|---|---|---|---|
| 과세기간(1기/2기) | 항상 | 자동(현재 날짜 기반) + 변경 | 선택 | 자동 | 없음 | V07 |
| 매출(반기) | 항상 | 월별/합계 입력 | 원 | 없음 | 누락 월 추정(12절 방식) | V03 |
| 지출(반기) 부가세 비율 | 항상 | 칩(대부분/반반/거의없음/모름) | 선택 | 대부분 | 모름 → 반반(50%) + 추정 표시 | V04 |
| 의제매입(면세 식재료) | 선택 | 월별/합계 입력 | 원 | 0 | 모름 → 0원 + 추정 표시 | V05 |
| 발행세액공제(카드/현금) | 자동(가능하면) | 자동 + 수정 | 원 | 자동 | 모름 → 자동값 유지 + 추정 표시 | V06 |

---

## 12. “모르겠어요(추정)” 정책 — 숫자/범위까지 고정

> 원칙: `모르겠어요`는 **평균/추정치로 계속 진행**하되, 사용자는 **반드시 ‘추정 사용’ 사실을 인지**해야 한다(2.3.2).  
> 추정은 “사용자 데이터 기반”을 최우선으로 하고, 마지막 수단만 “업종 평균”을 사용한다.

### 12.1 추정 출처 우선순위(재정의)
1) **동일 귀속연도 입력된 값**(월 평균/비율)  
2) **직전 귀속연도 사용자 값**(월 패턴/비율)  
3) **업종 평균 기본값**(초기값, 추후 조정 가능)  

### 12.2 월 누락 채우기(사업소득/부가세 공통)

**월별 모드에서 누락 월이 있을 때의 동작**
- 기본값: 누락 월은 비워둔다(추정 OFF)
- 사용자가 `누락 월 추정 채우기`를 ON 하면:
  - **판매(매출)**: `입력된 월 매출의 평균`으로 채움  
  - **경비(사업)**: `입력된 월 경비의 평균` 또는 `입력된 월의 경비/매출 비율`로 채움(둘 중 안정적인 쪽)  
  - **부가세 지출/의제매입**: `입력된 월의 평균`으로 채움
- 추정으로 채운 월은 모두 `추정` 배지 + “어떤 규칙으로 채웠는지”를 결과 화면에서 확인 가능해야 한다.

**추정 불확실성(범위 표시 권장)**
- 사용자 데이터 기반(12.1의 1~2): 추정 반영분에 대해 ±10% 범위를 함께 제공(레이더/결과에서 `최소~최대`)  
- 업종 평균(12.1의 3): 추정 반영분에 대해 ±20% 범위를 제공  

**범위 계산 규칙(고정)**
- `최소/최대`는 **추정으로 채운 부분만** 변동시키고, 사용자가 확정 입력한 부분은 고정한다.
  - 예: `합계 = 확정분 + 추정분`일 때  
    - `최소 = 확정분 + 추정분 × (1 − p)`  
    - `최대 = 확정분 + 추정분 × (1 + p)`  
  - 여기서 `p`는 사용자 데이터 기반이면 0.10, 업종 평균이면 0.20

### 12.3 업종 평균 기본값(마지막 수단, 비공식)

> 아래 값은 “모르겠어요”로 인한 막힘을 없애기 위한 **초기 기본값**이다.  
> 결과 화면에 “업종 평균으로 추정”을 명확히 고지하고, 사용자가 실측값을 넣으면 즉시 대체되게 한다.

**중요: ‘단순경비율(T25)’과 다름**
- 12.3의 “업종 평균”은 **입력 편의(UX)를 위한 추정치**다.
- 세법상 `단순경비율`(T25)은 귀속연도/업종에 따라 달라질 수 있으므로, 별도 “공식 표”로 관리/업데이트가 필요하다.

**사업 경비율(연간, 매출 대비 필요경비 비율)**
- 음식점: 0.90  
- 카페: 0.88  
- 기타: 0.85  

**부가세 지출의 ‘부가세 포함 매입’ 비율(지출 중 매입세액 공제 대상 비율)**
- 대부분: 0.80 / 반반: 0.50 / 거의없음: 0.20 / 모름: 0.50(추정)

### 12.4 “추정 0”을 쓰는 항목(예외 규칙)

아래 항목은 평균 추정이 오히려 오해를 만들 수 있어, 기본값을 **0원(미반영)** 으로 둔다.
- 원천징수세액(기납부): 모르면 0원 + `추정 0` 고지(추가/환급 정확도에 직접 영향)
- 공제/세액공제 금액(연금계좌/의료비/교육비/기부금 등): 모르면 0원 + “입력하면 세금이 줄 수 있어요” 안내

---

## 13. 정밀도 점수 산식(구현 규칙 고정)

### 13.1 상태값(항목별)
- `완료`: 사용자가 확정 입력(또는 “없음/0원” 확정) → 계수 1.00
- `추정(사용자)`: 12.1의 1~2 기반 추정 → 계수 0.70
- `추정(업종)`: 12.1의 3 기반 추정 → 계수 0.50
- `미입력`: 값이 없어 계산에 사용되지 않음 → 계수 0.00

### 13.2 총세금(결정세액) 정밀도 계산

**가중치(요약)**: 2.3.3의 A를 따른다.
- 소득(합산) 75점 = 사업소득 60점(매출30/경비30) + 기타소득 15점(없으면 사업에 합산)
- 공제/세액공제 25점

**월별 모드(매출/경비) 점수화**
- 매출(30점) = `각 월 상태 계수의 평균 × 30`
- 경비(30점) = `각 월 상태 계수의 평균 × 30`
  - 예: 12개월 중 8개월 완료(1.0), 4개월 추정(0.7)면 평균 계수 = (8×1.0 + 4×0.7)/12

**연간 모드(매출/경비) 점수화**
- 매출(30점): 입력 완료면 30점, 모름(부가세 포함 여부)로 가정이 들어가면 30×0.7로 감점(추정)
- 경비(30점): 입력 완료면 30점, 업종 평균으로 추정이면 30×0.5

**기타소득(15점)**
- Step 0에서 “있음”으로 체크한 소득만 점수 대상으로 삼는다.
- 해당 소득이 실제로 없다(사용자가 OFF)면, 이 15점은 자동으로 사업소득에 합산되어 불이익이 없다.

### 13.3 추가 납부/환급 정밀도 계산

**가중치(요약)**: 2.3.3의 B를 따른다.
- `추가/환급 정밀도 = 결정세액 정밀도(0~100)×0.70 + 기납부 정밀도(0~100)×0.30`

**기납부 정밀도(0~100)**
- 아래 산식으로 고정한다(구현자마다 다르게 해석되지 않게).

**A) 원천징수 정밀도(0~80점)**
- 대상: Step 0에서 ON한 소득 중 “원천징수”가 존재하는 항목(근로/연금/금융/기타)
- 계산:
  - `N = 대상 항목 개수`
  - 각 항목 계수:
    - 완료(금액 입력 또는 0원 확정): 1.00
    - 추정 0(모르겠어요): 0.00
    - 미입력: 0.00
  - `원천징수 정밀도 = (계수 평균) × 80` (N이 0이면 80점으로 처리)

**B) 중간예납/기타 기납부 정밀도(0~20점)**
- 중간예납(10점) + 기타 기납부(10점)
- 각 항목 계수:
  - 완료(있음+금액 입력, 또는 없음 확정): 1.00
  - 추정(모르겠어요): 0.00
  - 미입력: 0.00
- `기납부 정밀도 = A + B`

> 의도: 기납부 입력이 비면(미입력) 추가/환급 정밀도가 구조적으로 100에 도달할 수 없게 만든다(사용자 오해 방지).

### 13.4 “정밀도 카드의 다음 액션” 선정 규칙

1) 모든 항목에 대해 `잃은 점수 = (가중치 × (1 − 계수))`를 계산  
2) 잃은 점수가 큰 순서로 상위 1~3개를 “다음 액션”으로 노출  
3) 노출 문구는 “왜 중요한지(1줄)” + “바로가기”로 구성  
   - 예: “경비가 비어있으면 세금이 크게 달라져요” / “기납부가 없으면 환급/추가가 참고용이에요”

### 13.5 점수 라벨(사용자용)
- 90~100: `신고급` (대부분 확정 입력)
- 70~89: `좋아요` (추정 일부)
- 50~69: `보통` (참고용, 입력 권장)
- 0~49: `낮음` (결과 오차 가능성 큼)

---

## 14. 세법/기능 커버리지 매트릭스(릴리즈별) + 미지원 고지

> 목적: “최대한 정확하게”를 제품 약속으로 삼는 만큼, **지원/미지원/추정**을 명확히 분류한다.

| 영역 | R1(정밀 MVP) | R2(정확도 강화) | R3(입력 편의) |
|---|---|---|---|
| 사업소득(연간) | 지원(정밀) | 지원(정밀) | 지원(정밀) |
| 사업소득(월별) | (옵션) 지원 | 지원(정밀) | 지원(정밀) |
| 단순경비율(대체) | 지원(추정/간편) | 지원(추정/간편) | 지원(추정/간편) |
| 근로/연금/기타(소득금액+원천징수) | 지원(정밀 입력값 기반) | 지원(정밀 입력값 기반) | OCR로 편의 |
| 금융소득(이자/배당) | 제한 지원(분리/종합 구분 UX) | 강화(정확도/안내) | OCR/가이드 |
| 인적공제(가족) | 지원(간편) | 강화(대상 조건 안내) | 편의 |
| 노란우산 | 지원 | 지원 | 편의 |
| 연금계좌/의료/교육/기부 등 | 미지원(또는 숨김) | 지원(선택) | OCR/가이드 |
| 기납부(원천징수/중간예납) | 지원 | 지원 | OCR/가이드 |
| 결과: 총세금+추가/환급 | 지원(필수) | 지원 | 지원 |
| 결과: 추정 포함 범위(최소~최대) | 권장 | 권장 | 권장 |

### 14.1 미지원/주의 항목 고지(필수)

아래가 1개라도 해당하면 결과 화면 상단에 `주의: 일부 항목 미반영` 배너를 노출하고, “내 상황 체크리스트”로 안내한다.
- 이월결손금/결손금 공제
- 조세특례/세액감면(창업/고용/지역 등)
- 외국납부세액공제
- 공동사업/복수사업장/특수한 사업구조
- 분리과세·종합과세가 혼합되는 복잡 케이스(금융소득 등)에서 금액이 불확실한 경우

문구 원칙: “세무 자문”이 아니라 “계산 도구의 범위 안내”로 표현한다.

---

## 15. 예시 시나리오(3개) — 기대 UX/표시까지 고정

### 시나리오 A: 사업소득만, 월별 8개월 입력 + 나머지 추정
- Step 0: 귀속연도=작년, 사업소득만 ON
- Step 1: 월별 매출/경비 8개월 완료, 4개월은 `누락 월 추정 채우기` ON(사용자 평균)
- Step 2: 가족/노란우산 모두 “없음”
- Step 3: 기납부 없음

**기대 표시**
- 결과 상단: 총세금은 단일값 + `추정 포함` 배지(또는 `최소~최대` 범위)
- 정밀도: `총세금 정밀도`는 80대, `추가·환급 정밀도`는 50~70대(기납부 없음 영향)
- 다음 액션: 1순위 `기납부 확인`, 2순위 `누락 월(실측) 채우기`

### 시나리오 B: 사업소득 + 근로 N잡 + 노란우산 + 중간예납(고정값 입력)
- Step 0: 사업+근로 ON
- Step 1: 사업(연간 매출/경비 완료), 근로(소득금액/원천징수 완료)
- Step 2: 가족 입력, 노란우산 납입액 입력
- Step 3: 중간예납 “있음” + 금액 입력

**기대 표시**
- 결과 상단: `총세금(결정)` / `기납부` / `추가·환급`이 명확히 분리
- 정밀도: 두 점수 모두 90+ 가능
- 다음 액션: “없음”(또는 “연금계좌 입력하면 더 줄 수 있어요” 같은 선택 제안 1개)

### 시나리오 C: 금융소득 ‘모름’ + 기납부 미입력
- Step 0: 사업 + 금융 ON
- Step 1: 금융소득 합계 “모름” 선택
- Step 3: 원천징수도 “모름” 선택

**기대 표시**
- 결과 상단에 `주의: 금융소득 입력이 불확실해요` 배너
- 총세금은 가능하면 `최소~최대` 범위로 표시(분리/종합 시나리오 차이)
- 추가·환급은 “참고용” 문구 + 기납부 입력 CTA가 가장 위
